<!DOCTYPE html>

<html lang="en">
<head>

    <meta charset="utf-8">
    <title>CRUD</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
<!--    <link rel="shortcut icon" type="image/x-icon" href="images/favicon.png"/>-->
    <link rel="stylesheet" href="plugins/bootstrap/bootstrap.min.css">
    <link rel="stylesheet" href="plugins/slick/slick.css">
    <link rel="stylesheet" href="plugins/themify-icons/themify-icons.css">
    <link href="css/style.css" rel="stylesheet">
    <script src="js/viacep.js"></script>
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>

<header class="navigation fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark">
        <a class="navbar-brand font-tertiary h3" href="index.html"><img src="images/logo.png" alt="Myself" hidden></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navigation"
                aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse text-center" id="navigation">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="index.html">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="listar.php">Listar</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="blog.html">Blog</a>
                </li>

            </ul>
        </div>
    </nav>
</header>

<!-- hero area -->
<section class="hero-area bg-primary" id="parallax">
    <div class="container">
        <div class="row">
            <div class="col-lg-11 mx-auto">
                <h1 class="text-white font-tertiary">CRUD<br> by: Gaby <br></h1>
            </div>
        </div>
    </div>
    <div class="layer-bg w-100">
        <img class="img-fluid w-100" src="images/illustrations/leaf-bg.png" alt="bg-shape">
    </div>
    <div class="layer" id="l2">
        <img src="images/illustrations/dots-cyan.png" alt="bg-shape">
    </div>
    <div class="layer" id="l3">
        <img src="images/illustrations/leaf-orange.png" alt="bg-shape">
    </div>
    <div class="layer" id="l4">
        <img src="images/illustrations/dots-orange.png" alt="bg-shape">
    </div>
    <div class="layer" id="l5">
        <img src="images/illustrations/leaf-yellow.png" alt="bg-shape">
    </div>
    <div class="layer" id="l6">
        <img src="images/illustrations/leaf-cyan.png" alt="bg-shape">
    </div>
    <div class="layer" id="l7">
        <img src="images/illustrations/dots-group-orange.png" alt="bg-shape">
    </div>
    <div class="layer" id="l8">
        <img src="images/illustrations/leaf-pink-round.png" alt="bg-shape">
    </div>
    <div class="layer" id="l9">
        <img src="images/illustrations/leaf-cyan-2.png" alt="bg-shape">
    </div>
    <!-- social icon -->
    <ul class="list-unstyled ml-5 mt-3 position-relative zindex-1">
        <li class="mb-3"><a class="text-white" href="https://themefisher.com/"><i class="ti-facebook"></i></a></li>
        <li class="mb-3"><a class="text-white" href="https://themefisher.com/"><i class="ti-instagram"></i></a></li>
        <li class="mb-3"><a class="text-white" href="https://themefisher.com/"><i class="ti-dribbble"></i></a></li>
        <li class="mb-3"><a class="text-white" href="https://themefisher.com/"><i class="ti-twitter"></i></a></li>
    </ul>
    <!-- /social icon -->
</section>
<!-- /hero area -->

<!-- contact -->
<section class="section form" data-background="images/backgrounds/bg-dots.png" >
    <div class="container">
        <div class="row">
            <div class="col-12 text-center">
                <h2 class="section-title">Formulário</h2>
            </div>
            <div class="col-lg-10 mx-auto">
                <div class="bg-white rounded text-center p-5 shadow-down">
                    <h4 class="mb-80">Formulário de cadastro</h4>
                    <form id="cadastro" method="post" action="">
                        <div class="col-md-12">
                            <input type="text" id="name" name="name" placeholder="Nome Completo" class="form-control px-0 mb-4" required>
                        </div>
                        <div class="col-md-12">
                            <input type="email" id="email" name="email" placeholder="Endereço de E-mail" class="form-control px-0 mb-4" required>
                        </div>
                        <div class="col-md-12">
                            <div class="row">
                                <div class="col-md-6">
                                    <input type="text" id="cpf" name="cpf" placeholder="CPF" class="form-control px-0 mb-4" required>
                                </div>
                                <div class="col-md-6">
                                    <input type="text" id="telefone" name="telefone" placeholder="Telefone" class="form-control px-0 mb-4" required>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="row">
                                <div class="col-md-4">
                                    <input name="cep" type="text" id="cep" value="" placeholder="CEP" class="form-control px-0 mb-4" onblur="pesquisacep(this.value);" required>
                                </div>
                                <div class="col-md-8">
                                    <input name="rua" type="text" id="rua" placeholder="Rua" class="form-control px-0 mb-4" required>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="row">
                                <div class="col-md-5">
                                    <input name="bairro" type="text" id="bairro" placeholder="Bairro" class="form-control px-0 mb-4" required>
                                </div>
                                <div class="col-md-5">
                                    <input name="cidade" type="text" id="cidade" placeholder="Cidade" class="form-control px-0 mb-4" required>
                                </div>
                                <div class="col-md-2">
                                    <input name="uf" type="text" id="uf" placeholder="Estado" class="form-control px-0 mb-4" required>
                                </div>
                            </div>
                        </div>


                        <div class="col-lg-3 col-md-8 col-sm-12 mx-auto">
                            <button class="btn btn-primary w-100" id="enviar">Enviar</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- /contact -->

<!-- footer -->
<footer class="bg-dark">
    <div class="section" style="padding-top: 40px; padding-bottom: 40px">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <p>@ Gabrielly A. Lima Aguiar</p>
                </div>
                <div class="col-md-12">
                    <p>RA: 202204355311</p>
                </div>
            </div>
        </div>
    </div>
</footer>
<!-- /footer -->

<!-- jQuery -->
<script src="plugins/jQuery/jquery.min.js"></script>
<!-- Bootstrap JS -->
<script src="plugins/bootstrap/bootstrap.min.js"></script>
<!-- slick slider -->
<script src="plugins/slick/slick.min.js"></script>
<!-- filter -->
<script src="plugins/shuffle/shuffle.min.js"></script>
<script src="js/jQuery-Mask-Plugin-master/src/jquery.mask.js"></script>


<!-- Main Script -->
<script src="js/script.js"></script>
<script>
    $("body").on('click', '#enviar', function () {

        event.preventDefault();
        let form = $("#cadastro").serialize();

        $.ajax({
            type : 'POST',
            url: 'controller/cadastro.php',
            data: form,
            dataType: 'json',
            success: function (result) {
                console.log(result.status);

                if (result.status == true) {
                    Swal.fire({
                        position: 'top-end',
                        icon: 'success',
                        title: 'Sucesso',
                        text: result.msg,
                        showConfirmButton: false,
                        timer: 1500
                    })

                    setTimeout(function () {
                        window.location.href = "index.html";
                    }, 1500);


                } else {
                    Swal.fire({
                        position: 'top-end',
                        icon: 'error',
                        title: 'Erro',
                        text: result.msg,
                        showConfirmButton: false,
                        timer: 1500
                    })
                }
            }
        });

    });

    $("#telefone").mask("(99) 99999-9999");
    $("#cpf").mask("999.999.999-99");
    $("#cep").mask("99999-999");


</script>


</body>
</html>
